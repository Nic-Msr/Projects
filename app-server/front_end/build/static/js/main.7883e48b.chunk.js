(window.webpackJsonpcloudreactapp=window.webpackJsonpcloudreactapp||[]).push([[0],{112:function(e,t,a){e.exports=a(252)},117:function(e,t,a){},248:function(e,t){},252:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(40),i=a.n(o),l=(a(117),a(8)),s=a(9),c=a(11),u=a(10),d=a(12),h=a(30),m=a(21),p=a(257),g=a(256),v=function(){return n.a.createElement(p.a,{bg:"dark",variant:"dark"},n.a.createElement(p.a.Brand,{as:h.b,href:"/",to:"/"},"Cloud Tracking"),n.a.createElement(g.a,{className:"ml-auto"},n.a.createElement(g.a.Link,{as:h.c,href:"/",to:"/",exact:!0},"HOME")))},b=a(254),f=a(255),y=a(258),O=a(104),E=a(111),w=a(105),j=a(107),C=a.n(j)()("http://localhost:3001/");function T(e){C.on("data",(function(t){return e(null,t)}))}function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var k=function(e){function t(e){var a,r;return Object(l.a)(this,t),a=Object(c.a)(this,Object(u.a)(t).call(this,e)),r=function(e,t){for(var r=[],n=[],o=0,i=Object.entries(t);o<i.length;o++){var l=i[o],s=Object(E.a)(l,2),c=s[0],u=s[1];r.push(c),n.push(u)}var d=B({},a.state.data.datasets[0]);d.data=n;var h=B({},a.state.data,{datasets:[d],labels:r});a.setState({data:h})},C.on("predi",(function(e){return r(null,e)})),a.state={data:{labels:[],datasets:[{label:"Cloud Motion",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",borderWidth:1,barPercentage:1.25,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:[]}]}},a.options={maintainAspectRatio:!1,responsive:!0,legend:{display:!1},title:{display:!0,text:"Cloud Motion Prediction"},scales:{xAxes:[{scaleLabel:{display:!0,labelString:"Time until Sun Occlusion"},ticks:{beginAtZero:!0,userCallback:function(e){return e+" min"}}}],yAxes:[{scaleLabel:{display:!0,labelString:"# of Cloud Segments"},ticks:{beginAtZero:!0}}]}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement(w.a,{width:150,height:200,data:this.state.data,options:this.options})))}}]),t}(r.Component),M=a(108),x=a.n(M),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).els={videoWrapper:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:this.props.wrapperClassName,ref:function(t){return e.els.videoWrapper=t}})}},{key:"componentDidMount",value:function(){new x.a.VideoElement(this.els.videoWrapper,this.props.videoUrl,this.props.options,this.props.overlayOptions)}}]),t}(r.Component),D=a(14),P=a.n(D),_=a(109),L=a.n(_),A=[.6883333,.6883333,1/6],N=[28.607334,-81.203706],G=function(e){function t(e){var a,r;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={cloud_base_height:-1},r=function(e,t){a.coverageOverlay.setUrl(t)},C.on("coverage",(function(e){return r(null,e)})),function(e){C.on("shadow",(function(t){return e(null,t)}))}((function(e,t){a.shadowOverlay.setUrl(t)})),T((function(e,t){a.setState(t),a.updateImageBounds()})),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/weather").then((function(e){return e.json()})).then((function(t){e.setState(t),e.updateImageBounds()})).catch(console.log);var t=P.a.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}),a=P.a.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}),r={Satellite:t,Terrain:a};this.map=P.a.map("map",{center:N,zoom:14,layers:[t,a]}),this.shadowOverlay=P.a.imageOverlay("",[[28.42000000001,-81.42000000001],[28.42000000002,-81.42000000002]]),this.shadowOverlay.addTo(this.map),this.coverageOverlay=P.a.imageOverlay("",[[28.42000000001,-81.42000000001],[28.42000000002,-81.42000000002]]),this.coverageOverlay.addTo(this.map);this.coverageBorder=P.a.rectangle([[28.42000000001,-81.42000000001],[28.42000000002,-81.42000000002]],{color:"#d35fb7",weight:2,fill:!1,fillOpacity:.1}),this.coverageBorder.addTo(this.map),this.shadowBorder=P.a.rectangle([[28.42000000001,-81.42000000001],[28.42000000002,-81.42000000002]],{color:"#fefe62",weight:2,fill:!1,fillOpacity:.1}),this.shadowBorder.addTo(this.map);var n={Shadow:this.shadowOverlay,"Shadow Bounds":this.shadowBorder,Coverage:this.coverageOverlay,"Coverage Bounds":this.coverageBorder};P.a.control.layers(r,n).addTo(this.map);var o=P.a.control({position:"bottomright"});o.onAdd=function(e){var t=P.a.DomUtil.create("div","info legend");return t.innerHTML='<img src="north_arrow.png">',t},o.addTo(this.map),P.a.marker(N,{draggable:!1,title:"Camera Position"}).addTo(this.map)}},{key:"render",value:function(){return n.a.createElement("div",{id:"map",style:{display:"flex",height:"550px"}})}},{key:"addDistanceToCoordinate",value:function(e,t,a,r,n,o,i){var l=[1e9,1e9],s=0,c=0;return i&&(s=Math.cos(n)*Math.tan(r)*o,c=-Math.sin(n)*Math.tan(r)*o),l[0]=e[0]+(a+s)/362775.6,l[1]=e[1]+(t+c)/365223.1*Math.cos(e[0]*Math.PI/180),l}},{key:"getImageBounds",value:function(e){var t=L.a.getPosition(new Date,N[0],N[1]),a=this.state.cloud_base_height,r=Math.atan(A[0]/A[1]),n=Math.sqrt(Math.pow(A[0]/2,2)+Math.pow(A[1]/2,2))*a/A[2],o=Math.cos(r)*n,i=Math.sin(r)*n;return[this.addDistanceToCoordinate(N,-o,i,t.altitude,t.azimuth,a,e),this.addDistanceToCoordinate(N,o,-i,t.altitude,t.azimuth,a,e)]}},{key:"updateImageBounds",value:function(){var e=this.getImageBounds(!1),t=this.getImageBounds(!0);void 0!==this.coverageOverlay&&(this.coverageOverlay.setBounds(e),this.coverageBorder.setBounds(e)),void 0!==this.shadowOverlay&&(this.shadowOverlay.setBounds(t),this.shadowBorder.setBounds(t))}}]),t}(r.Component),U=a(110),F=a.n(U),R={poster:"https://i.imgur.com/FJtImIA.png"},W={},z=function(e){function t(e){var a,r;return Object(l.a)(this,t),a=Object(c.a)(this,Object(u.a)(t).call(this,e)),T((function(e,t){a.setState(t),a.setState({time:new Date})})),r=function(e,t){a.setState(t)},C.on("coverage_data",(function(e){return r(null,e)})),a.state={cloud_coverage:"",temperature:"",dew_point:"",barometric_pressure:"",cloud_base_height:"",time:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/weather").then((function(e){return e.json()})).then((function(t){e.setState(t)})).catch(console.log)}},{key:"render",value:function(){return n.a.createElement(b.a,{noGutters:"true"},n.a.createElement(f.a,{sm:4,style:{backgroundColor:"ghostwhite",width:"100%",height:"auto"}},n.a.createElement(y.a,{border:"light",style:{backgroundColor:"ghostwhite",display:"flex",color:"slategray"}},n.a.createElement(y.a.Header,null,"Real-time Data"),n.a.createElement(y.a.Body,null,n.a.createElement(y.a.Text,null,"LIVESTREAM"),n.a.createElement("div",null,n.a.createElement(I,{wrapperClassName:"video-wrapper",videoUrl:"ws://localhost:3001/stream",options:R,overlayOptions:W})),n.a.createElement(y.a.Text,{style:{color:"slategray"}},"Location: Lake Claire; Orlando, FL"))),n.a.createElement("hr",null),n.a.createElement(y.a,{border:"light",style:{backgroundColor:"ghostwhite",display:"flex"}},n.a.createElement(y.a.Body,{style:{color:"slategray"}},n.a.createElement(y.a.Text,null,"CURRENT CONDITIONS"),n.a.createElement(y.a.Text,null,"Cloud Coverage: ",this.state.cloud_coverage,"%"),n.a.createElement(y.a.Text,null,"Temperature: ",this.state.temperature," \xb0F"),n.a.createElement(y.a.Text,null,"Dewpoint: ",this.state.dew_point," \xb0F"),n.a.createElement(y.a.Text,null,"Barometric Pressure: ",this.state.barometric_pressure," mb"),n.a.createElement(y.a.Text,null,"Cloud Base Height (CBH): ",this.state.cloud_base_height," ft"),n.a.createElement(y.a.Text,{style:{fontStyle:"italic",fontSize:"14px"}},"Last updated:",n.a.createElement(F.a,{format:"LLL"},this.state.time))))),n.a.createElement(f.a,{sm:8},n.a.createElement(y.a,{border:"light"},n.a.createElement(y.a.Body,null,n.a.createElement(y.a.Text,{style:{color:"slategray"}},"CLOUD MONITORING"),n.a.createElement(n.a.Fragment,null,n.a.createElement(k,null)),n.a.createElement(n.a.Fragment,null,n.a.createElement(G,null)),n.a.createElement("div",{style:{whiteSpace:"pre-wrap"}},"")))))}}]),t}(r.Component),H=(r.Component,a(251),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a,null,n.a.createElement(v,null),n.a.createElement(m.c,null,n.a.createElement(m.a,{exact:!0,path:"/",component:z}))))}}]),t}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[112,1,2]]]);
//# sourceMappingURL=main.7883e48b.chunk.js.map